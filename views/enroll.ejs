<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“¥ Enroll Student</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <%- include('partials/flash') %>

  <button id="themeToggle" class="theme-toggle">ğŸŒ™ Dark Mode</button>
  <h1>ğŸ“¥ Enroll a Student in a Course</h1>

  <form action="/enroll" method="POST">
    <label for="student_id">ğŸ‘¨â€ğŸ“ Student:</label>
    <select name="student_id" required>
      <% students.forEach(student => { %>
        <option value="<%= student.id %>"><%= student.name %></option>
      <% }); %>
    </select>

    <label for="course_id">ğŸ“˜ Course:</label>
    <select name="course_id" required>
      <% courses.forEach(course => { %>
        <option value="<%= course.id %>"><%= course.title %></option>
      <% }); %>
    </select>

    <button type="submit">âœ… Enroll</button>
  </form>

  <a href="/">â¬… Back to Home</a>

  <script>
    const toggle = document.getElementById('themeToggle');
    const body = document.body;
  
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark-mode');
      toggle.textContent = 'â˜€ï¸ Light Mode';
    }
  
    toggle.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      const isDark = body.classList.contains('dark-mode');
      toggle.textContent = isDark ? 'â˜€ï¸ Light Mode' : 'ğŸŒ™ Dark Mode';
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  </script>
  
</body>
</html>
